# ===== ENVIRONMENT =====
NODE_ENV=development
LOG_LEVEL=debug

# ===== SERVER =====
API_PORT=3000
API_HOST=backend

# ===== DATABASE (usate automaticamente per DATABASE_URL) =====
# DATABASE_URL è costruita automaticamente come: postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}
DB_HOST=postgres
DB_PORT=5432
DB_USER=mailuser
DB_PASSWORD=mailpass
DB_NAME=mailagent

# ===== REDIS (usate automaticamente per REDIS_URL) =====
# REDIS_URL è costruita automaticamente come: redis://${REDIS_HOST}:${REDIS_PORT}
REDIS_HOST=redis
REDIS_PORT=6379

# ===== JWT & AUTH =====
JWT_SECRET=your-super-secret-jwt-key-change-in-production-minimum-32-chars
JWT_EXPIRATION=24h
OTP_EXPIRATION=900000
PASSWORD_RESET_EXPIRATION=900000

# ===== ENCRYPTION (base64 32-byte key) =====
# Genera con: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
AES_SECRET_KEY=your-32-byte-base64-encoded-key-change-in-production

# ===== OAUTH2 CREDENTIALS (Gmail) =====
GMAIL_CLIENT_ID=your-gmail-client-id
GMAIL_CLIENT_SECRET=your-gmail-client-secret

# ===== OAUTH2 CREDENTIALS (Microsoft) =====
MICROSOFT_CLIENT_ID=your-microsoft-client-id
MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret

# ===== AI PROVIDER (Mistral) =====
MISTRAL_API_KEY=your-mistral-api-key
MISTRAL_MODEL=mistral-large-latest

# ===== EMAIL PROVIDER =====
SMTP_HOST=mail-server
SMTP_PORT=587
SMTP_USER=mailuser
SMTP_PASSWORD=mailpass
SMTP_FROM_EMAIL=noreply
SMTP_FROM_DOMAIN=mailagent.local

# ===== EXTERNAL SERVICES =====
STT_PROVIDER=google
TTS_PROVIDER=piper
GOOGLE_STT_API_KEY=your-google-cloud-key
PIPER_LANGUAGE=it_IT

# ===== FRONTEND CONFIG =====
FRONTEND_URL=http://localhost:3001
FRONTEND_PORT=3001

# ===== OBSERVABILITY =====
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# ===== File Storage (S3/Minio) =====
STORAGE_PROVIDER=s3
S3_ENDPOINT=http://localhost:9100
S3_CONSOLE_URL=http://localhost:9101
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_REGION=us-east-1
S3_BUCKET=mailagent-attachments
S3_FORCE_PATH_STYLE=true

# ===== IMAP Defaults (generic providers) =====
IMAP_HOST=imap.local
IMAP_PORT=993
IMAP_SECURE=true
IMAP_USER=
IMAP_PASSWORD=

# ===== INTERNAL URLS (costruite automaticamente) =====
# API_URL è costruita da: http://${API_HOST}:${API_PORT}
# GMAIL_REDIRECT_URI è costruita da: ${API_URL}/auth/gmail/callback
# MICROSOFT_REDIRECT_URI è costruita da: ${API_URL}/auth/microsoft/callback
# NEXT_PUBLIC_API_URL è ${API_URL}
# NEXT_PUBLIC_WEB_SOCKET_URL è ws://${API_HOST}:${API_PORT}
# SMTP_FROM è ${SMTP_FROM_EMAIL}@${SMTP_FROM_DOMAIN}
